"use strict";(globalThis.webpackChunkrobotics_book_docusaurus=globalThis.webpackChunkrobotics_book_docusaurus||[]).push([[183],{2994:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"ros2-foundations/index","title":"ROS2 Foundations","description":"Overview","source":"@site/docs/ros2-foundations/index.md","sourceDirName":"ros2-foundations","slug":"/ros2-foundations/","permalink":"/project-01-book-with-AI/docs/ros2-foundations/","draft":false,"unlisted":false,"editUrl":"https://github.com/your-username/project-01-book-with-AI/tree/master/docusaurus/docs/ros2-foundations/index.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"intro","permalink":"/project-01-book-with-AI/docs/intro"},"next":{"title":"Simulation: Gazebo & Unity for Digital Twins","permalink":"/project-01-book-with-AI/docs/simulation/"}}');var s=i(4848),o=i(8453);const a={sidebar_position:2},t="ROS2 Foundations",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Introduction to ROS 2",id:"introduction-to-ros-2",level:2},{value:"Key Features of ROS 2",id:"key-features-of-ros-2",level:3},{value:"Architecture Components",id:"architecture-components",level:3},{value:"Nodes and Communication",id:"nodes-and-communication",level:2},{value:"What is a Node?",id:"what-is-a-node",level:3},{value:"Creating a Simple Node",id:"creating-a-simple-node",level:3},{value:"Node Lifecycle",id:"node-lifecycle",level:3},{value:"Topics, Services, and Actions",id:"topics-services-and-actions",level:2},{value:"Topics",id:"topics",level:3},{value:"Services",id:"services",level:3},{value:"Actions",id:"actions",level:3},{value:"Parameters and Launch Files",id:"parameters-and-launch-files",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Launch Files",id:"launch-files",level:3},{value:"Basic Robot Control",id:"basic-robot-control",level:2},{value:"Robot Control Patterns",id:"robot-control-patterns",level:3},{value:"TF (Transforms) Framework",id:"tf-transforms-framework",level:3},{value:"Hands-on Examples",id:"hands-on-examples",level:2},{value:"Example 1: Publisher-Subscriber",id:"example-1-publisher-subscriber",level:3},{value:"Example 2: Service Server-Client",id:"example-2-service-server-client",level:3},{value:"Example 3: Parameter Configuration",id:"example-3-parameter-configuration",level:3},{value:"Summary",id:"summary",level:2},{value:"References and Further Reading",id:"references-and-further-reading",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"ros2-foundations",children:"ROS2 Foundations"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"This chapter introduces the fundamental concepts of Robot Operating System 2 (ROS 2), the middleware framework that enables communication between different components of a robotic system. ROS 2 provides the infrastructure for building distributed robotic applications with support for multiple programming languages, real-time systems, and distributed computing."}),"\n",(0,s.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Explain the core concepts of ROS 2 architecture"}),"\n",(0,s.jsx)(n.li,{children:"Create and run basic ROS 2 nodes"}),"\n",(0,s.jsx)(n.li,{children:"Understand topics, services, and actions"}),"\n",(0,s.jsx)(n.li,{children:"Work with parameters and launch files"}),"\n",(0,s.jsx)(n.li,{children:"Implement basic robot control patterns"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#introduction-to-ros-2",children:"Introduction to ROS 2"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#nodes-and-communication",children:"Nodes and Communication"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#topics-services-and-actions",children:"Topics, Services, and Actions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#parameters-and-launch-files",children:"Parameters and Launch Files"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#basic-robot-control",children:"Basic Robot Control"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#hands-on-examples",children:"Hands-on Examples"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"introduction-to-ros-2",children:"Introduction to ROS 2"}),"\n",(0,s.jsx)(n.p,{children:"ROS 2 (Robot Operating System 2) is not an operating system but rather a collection of software frameworks and tools that help developers create robotic applications. It provides hardware abstraction, device drivers, libraries, visualizers, message-passing, package management, and more."}),"\n",(0,s.jsx)(n.h3,{id:"key-features-of-ros-2",children:"Key Features of ROS 2"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Distributed Computing"}),": ROS 2 allows nodes to run on different machines and communicate over a network"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Language Independence"}),": Support for multiple programming languages including Python, C++, and others"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Real-time Support"}),": Enhanced real-time capabilities compared to ROS 1"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Security"}),": Built-in security features for protecting robotic systems"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Middleware Agnostic"}),": Uses DDS (Data Distribution Service) for communication, making it middleware-agnostic"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"architecture-components",children:"Architecture Components"}),"\n",(0,s.jsx)(n.p,{children:"ROS 2 architecture consists of several layers:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Application Layer"}),": Your robotic applications and algorithms"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Client Library Layer"}),": ROS 2 client libraries (rclcpp, rclpy, etc.)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ROS Middleware (RMW)"}),": Interface between client libraries and DDS implementations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DDS/RTPS"}),": Communication layer implementing the DDS specification"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OS/Platform"}),": Operating system and hardware platform"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"nodes-and-communication",children:"Nodes and Communication"}),"\n",(0,s.jsx)(n.h3,{id:"what-is-a-node",children:"What is a Node?"}),"\n",(0,s.jsx)(n.p,{children:"A node is a process that performs computation. In ROS 2, nodes are designed to be composable and distributed. Each node typically performs a specific task and communicates with other nodes through topics, services, or actions."}),"\n",(0,s.jsx)(n.h3,{id:"creating-a-simple-node",children:"Creating a Simple Node"}),"\n",(0,s.jsx)(n.p,{children:"Here's a basic ROS 2 node in Python:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MinimalNode(Node):\n    def __init__(self):\n        super().__init__('minimal_node')\n        self.get_logger().info('Hello from minimal node!')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MinimalNode()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"node-lifecycle",children:"Node Lifecycle"}),"\n",(0,s.jsx)(n.p,{children:"ROS 2 nodes have a well-defined lifecycle that includes states like unconfigured, inactive, active, and finalized. This allows for better resource management and system control."}),"\n",(0,s.jsx)(n.h2,{id:"topics-services-and-actions",children:"Topics, Services, and Actions"}),"\n",(0,s.jsx)(n.h3,{id:"topics",children:"Topics"}),"\n",(0,s.jsx)(n.p,{children:"Topics enable asynchronous, many-to-many communication between nodes using a publish-subscribe pattern. Publishers send messages to topics, and subscribers receive messages from topics."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Publisher example\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n"})}),"\n",(0,s.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,s.jsx)(n.p,{children:"Services provide synchronous, request-response communication. A service client sends a request and waits for a response from a service server."}),"\n",(0,s.jsx)(n.h3,{id:"actions",children:"Actions"}),"\n",(0,s.jsx)(n.p,{children:"Actions are for long-running tasks that may provide feedback during execution and can be canceled. They're ideal for tasks like navigation or manipulation."}),"\n",(0,s.jsx)(n.h2,{id:"parameters-and-launch-files",children:"Parameters and Launch Files"}),"\n",(0,s.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsx)(n.p,{children:"Parameters in ROS 2 allow you to configure nodes at runtime. They can be set at launch time or changed dynamically."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Parameter example\nclass ParameterNode(Node):\n    def __init__(self):\n        super().__init__('parameter_node')\n\n        # Declare parameters with default values\n        self.declare_parameter('my_param', 'default_value')\n\n        # Get parameter value\n        param_value = self.get_parameter('my_param').value\n        self.get_logger().info(f'Parameter value: {param_value}')\n"})}),"\n",(0,s.jsx)(n.h3,{id:"launch-files",children:"Launch Files"}),"\n",(0,s.jsx)(n.p,{children:"Launch files allow you to start multiple nodes with specific configurations simultaneously."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# launch/example_launch.py\nfrom launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='demo_nodes_py',\n            executable='talker',\n            name='talker',\n            parameters=[\n                {'param_name': 'param_value'}\n            ]\n        ),\n        Node(\n            package='demo_nodes_py',\n            executable='listener',\n            name='listener'\n        )\n    ])\n"})}),"\n",(0,s.jsx)(n.h2,{id:"basic-robot-control",children:"Basic Robot Control"}),"\n",(0,s.jsx)(n.h3,{id:"robot-control-patterns",children:"Robot Control Patterns"}),"\n",(0,s.jsx)(n.p,{children:"ROS 2 provides several patterns for controlling robots:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Joint Trajectory Control"}),": For precise joint movements"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Velocity Control"}),": For continuous motion control"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Position Control"}),": For reaching specific positions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Impedance Control"}),": For compliant interaction with the environment"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"tf-transforms-framework",children:"TF (Transforms) Framework"}),"\n",(0,s.jsx)(n.p,{children:"The TF framework is crucial for robot control, allowing you to keep track of coordinate frames over time."}),"\n",(0,s.jsx)(n.h2,{id:"hands-on-examples",children:"Hands-on Examples"}),"\n",(0,s.jsx)(n.h3,{id:"example-1-publisher-subscriber",children:"Example 1: Publisher-Subscriber"}),"\n",(0,s.jsx)(n.p,{children:"Create a publisher that sends messages and a subscriber that receives and processes them."}),"\n",(0,s.jsx)(n.h3,{id:"example-2-service-server-client",children:"Example 2: Service Server-Client"}),"\n",(0,s.jsx)(n.p,{children:"Create a service that performs a calculation and a client that requests the calculation."}),"\n",(0,s.jsx)(n.h3,{id:"example-3-parameter-configuration",children:"Example 3: Parameter Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Create a node that uses parameters for configuration and demonstrate changing parameters at runtime."}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(n.p,{children:"This chapter covered the foundational concepts of ROS 2 that will be essential for the rest of this book. Understanding nodes, topics, services, actions, parameters, and launch files is crucial for building robotic applications. In the next chapter, we'll explore how to use these concepts in simulation environments."}),"\n",(0,s.jsx)(n.h2,{id:"references-and-further-reading",children:"References and Further Reading"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.ros.org/en/humble/",children:"ROS 2 Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Tutorials.html",children:"ROS 2 Tutorials"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://design.ros2.org/",children:"Design ros2"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>t});var r=i(6540);const s={},o=r.createContext(s);function a(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);